## ![img](https://cnchen2000.oss-cn-shanghai.aliyuncs.com/img/logo.png)      è®¡ç®—æœºä¸äººå·¥æ™ºèƒ½å­¦é™¢ã€Šäººå·¥æ™ºèƒ½ç¨‹åºè®¾è®¡ã€‹å®éªŒæŠ¥å‘ŠğŸ“

| ä¸“ä¸š                 | å­¦å·         | å§“å         |
| :------------------- | ------------ | ------------ |
| æ•°æ®ç§‘å­¦ä¸å¤§æ•°æ®æŠ€æœ¯ | 2025020213   | å¼ å¯Œæ”¿       |
| **è¯¾ç¨‹åç§°**         | **å®éªŒåç§°** | **å®Œæˆæ—¥æœŸ** |
| äººå·¥æ™ºèƒ½ç¨‹åºè®¾è®¡     | é€’å½’ã€æ ‘é€’å½’ | 2022.04.07   |



[TOC]

## ä¸€ å®éªŒç›®æ ‡

> - æŒæ¡Vs Codeã€githubçš„ä½¿ç”¨ï¼›
> - æŒæ¡ç¼–ç¨‹æ–‡æ¡£çš„æ’°å†™æ–¹æ³•ï¼›
> - å·©å›ºã€æŒæ¡é€’å½’ã€æ ‘é€’å½’ï¼›

## äºŒ å®éªŒè¦æ±‚

> å®éªŒå®Œæˆçš„å…·ä½“è¦æ±‚è¯´æ˜ã€‚

- ä¸ªäººç‹¬ç«‹å®Œæˆï¼Œç§¯æåŠ¨æ‰‹ç¼–ç¨‹ï¼›
- é¼“åŠ±ä¸åŒå­¦äº¤æµï¼Œä½†ä¸èƒ½æŠ„è¢­æºç ï¼›
- èƒ½å®Œæˆå®éªŒè¯´æ˜æ–‡æ¡£çš„å„ä¸ªæ­¥éª¤å¹¶æ’°å†™æ­¤å®éªŒæŠ¥å‘Šï¼›
- èƒ½æ¼”ç¤ºå®éªŒè¿‡ç¨‹å¹¶é˜è¿°åŠŸèƒ½çš„ä¸»è¦ä»£ç æ¨¡å—ã€‚
- å®éªŒæŠ¥å‘Šè¯·çªå‡ºè‡ªå·±çš„**æƒ³æ³•**ã€**åšæ³•**ã€**å¿ƒå¾—ä½“ä¼š**ï¼›

## ä¸‰ å®éªŒç¯å¢ƒ

- Vs Codeã€Githubã€Typoraã€sm.msï¼›

- ç½‘ç«™ï¼š

  > [SM.MS]: https://sm.ms/
  > [PythonTutor]: https://pythontutor.com/visualize.html#mode=edit

## å›› å®éªŒå†…å®¹ ğŸ—ˆ

##  é—®é¢˜ ğŸ™‹ğŸ¼â€â™€ï¸

### Parsons é—®é¢˜

#### é—®é¢˜1ï¼šNeighbor Digits  ğŸ”¢

- ä»»åŠ¡æè¿°

  å®ç°å‡½æ•° `neighbor_digits` , è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªæ­£æ•´æ•° `num` ï¼Œå’Œä¸€ä¸ªå¯é€‰å‚æ•° `prev_digits` ï¼Œè¾“å‡º `num` ä¸­å·¦è¾¹æˆ–è€…å³è¾¹ç›¸åŒæ•°ä½ï¼ˆdigitï¼‰çš„æ•°é‡ã€‚

  > neighbor_digits.pyæºä»£ç æ–‡ä»¶åœ¨ parsons_probs æ–‡ä»¶å¤¹ä¸­ï¼Œåœ¨ç»ˆç«¯é€šè¿‡ `cd` å‘½ä»¤è¿›å…¥è¯¥æ–‡ä»¶å¤¹ï¼Œå¹¶è¾“å…¥å‘½ä»¤è¿›è¡ŒéªŒè¯ï¼š
  >
  > ```
  > python3 -m doctest neighbor_digits.py
  > ```

  ```python
  def neighbor_digits(num, prev_digit=-1):
      """
      Returns the number of digits in num that have the same digit to its right
      or left.
      >>> neighbor_digits(111)
      3
      >>> neighbor_digits(123)
      0
      >>> neighbor_digits(112)
      2
      >>> neighbor_digits(1122)
      4
      """
      "*** YOUR CODE HERE ***"
  ```

- å®ç°æ­¥éª¤

  ã€ä¾‹ã€‘neighbor_digits(1122)  â¡ï¸ 4

  ![](https://s2.loli.net/2022/04/07/8xb7rRpGwjA3OSm.png)

- å®ç°æ–¹æ³•

  ```python
  def neighbor_digits(num, prev_digit=-1):
      """
      Returns the number of digits in num that have the same digit to its right
      or left.
      >>> neighbor_digits(111)
      3
      >>> neighbor_digits(123)
      0
      >>> neighbor_digits(112)
      2
      >>> neighbor_digits(1122)
      4
      """
      hash = []
      # print(str(hash))?
      for i in range(10):
          hash.append(-1)
      count = 0
      while num:
          if hash[num % 10] == 0:
              hash[num % 10] = 2
          else:
              hash[num % 10] += 1
          num //= 10
      for i in hash:
          if i != -1:
              count += i
      return count
  ```

- æµ‹è¯•è¯´æ˜

  æµ‹è¯•ç»“æœï¼š

  ![](https://s2.loli.net/2022/04/07/SzA2G4VnF9jtOov.png)

#### é—®é¢˜2ï¼šHas Subsequence 

- ä»»åŠ¡æè¿°

  å®ç°å‡½æ•° `has_subseq` ï¼Œè¯¥å‡½æ•°æ¥å—ä¸€ä¸ªæ•°å­— `n` å’Œ ä¸€ä¸ª â€œåºåˆ—â€ çš„æ•°ä½ `seq` ï¼Œè¿”å› `n` æ˜¯å¦åŒ…å« `seq` å­åºåˆ—ï¼Œå¹¶**ä¸è¦æ±‚è¿ç»­**ã€‚

  ä¾‹å¦‚ï¼Œ`141` åŒ…å«åºåˆ— `11` ï¼Œå› ä¸ºåºåˆ—çš„ç¬¬ä¸€ä¸ªæ•°ä½ `1` æ˜¯ `141` çš„ç¬¬ä¸€ä¸ªæ•°ä½ï¼Œåºåˆ—ä¸­çš„ç¬¬äºŒä¸ªæ•°ä½ `1` ä¹Ÿåœ¨ `141` åé¢å‡ºç°äº†ã€‚

  > has_subseq.pyæºä»£ç æ–‡ä»¶åœ¨ parsons_probs æ–‡ä»¶å¤¹ä¸­ï¼Œåœ¨ç»ˆç«¯é€šè¿‡ `cd` å‘½ä»¤è¿›å…¥è¯¥æ–‡ä»¶å¤¹ï¼Œå¹¶è¾“å…¥å‘½ä»¤è¿›è¡ŒéªŒè¯ï¼š
  >
  > ```
  > python3 -m doctest has_subseq.py
  > ```

  ```python
  def has_subseq(n, seq):
      """
      Complete has_subseq, a function which takes in a number n and a "sequence"
      of digits seq and returns whether n contains seq as a subsequence, which
      does not have to be consecutive.
  
      >>> has_subseq(123, 12)
      True
      >>> has_subseq(141, 11)
      True
      >>> has_subseq(144, 12)
      False
      >>> has_subseq(144, 1441)
      False
      >>> has_subseq(1343412, 134)
      True
      """
      "*** YOUR CODE HERE ***"
  ```

- å®ç°æ­¥éª¤

  ã€ä¾‹ã€‘has_subseq(1343412, 134)  â¡ï¸ True

  ![](https://s2.loli.net/2022/04/07/OKEiwmqbzsXBtId.png)

- å®ç°æ–¹æ³•

  ```python
  def has_subseq(n, seq):
      """
      Complete has_subseq, a function which takes in a number n and a "sequence"
      of digits seq and returns whether n contains seq as a subsequence, which
      does not have to be consecutive.
  
      >>> has_subseq(123, 12)
      True
      >>> has_subseq(141, 11)
      True
      >>> has_subseq(144, 12)
      False
      >>> has_subseq(144, 1441)
      False
      >>> has_subseq(1343412, 134)
      True
      """
      while n:
          isExist = False
          while n > 0 and ~isExist:
              if n % 10 == seq % 10:
                  isExist = ~isExist
              n //= 10
          seq //= 10  
      if seq == 0:
          return True
      return False
  ```

- æµ‹è¯•è¯´æ˜

  æµ‹è¯•ç»“æœï¼š

  ![](https://s2.loli.net/2022/04/07/eT1vHldsGhqJ7uV.png)

### ç¼–ç¨‹é—®é¢˜ ğŸ™‹ğŸ¼â€â™€ï¸

#### é—®é¢˜3ï¼šNum eights  8ï¸âƒ£

- ä»»åŠ¡æè¿°

  ç¼–å†™é€’å½’å‡½æ•° `num_eights` ï¼Œè¯¥å‡½æ•°æ¥å—ä¸€ä¸ªæ­£æ•´æ•° `pos`ï¼Œè¿”å› `pos` ä¸­æ•°ä½ 8å‡ºç°çš„æ¬¡æ•°ã€‚

  **æ³¨æ„**ï¼šä½¿ç”¨é€’å½’ï¼›å¦‚æœä½ ä½¿ç”¨ä»»ä½•çš„èµ‹å€¼è¯­å¥æµ‹è¯•å°†å¤±è´¥ã€‚ï¼ˆä½†ä½ å¯ä»¥å°½ç®¡ä½¿ç”¨å‡½æ•°å®šä¹‰ï¼‰

  ```python
  def num_eights(pos):
      """Returns the number of times 8 appears as a digit of pos.
  
      >>> num_eights(3)
      0
      >>> num_eights(8)
      1
      >>> num_eights(88888888)
      8
      >>> num_eights(2638)
      1
      >>> num_eights(86380)
      2
      >>> num_eights(12345)
      0
      >>> from construct_check import check
      >>> # ban all assignment statements
      >>> check(HW_SOURCE_FILE, 'num_eights',
      ...       ['Assign', 'AnnAssign', 'AugAssign', 'NamedExpr'])
      True
      """
      "*** YOUR CODE HERE ***"
  ```

  ä½¿ç”¨ Ok æµ‹è¯•ä½ çš„ä»£ç ï¼š

  ```python
  python3 ok --local -q num_eights
  ```

- å®ç°æ­¥éª¤

  ã€ä¾‹ã€‘num_eights(86380)  â¡ï¸ 2

  ![](https://s2.loli.net/2022/04/07/v8tYrwa3Fo2cKuj.png)

- å®ç°æ–¹æ³•

  ```python
  def num_eights(pos):
      """Returns the number of times 8 appears as a digit of pos.
  
      >>> num_eights(3)
      0
      >>> num_eights(8)
      1
      >>> num_eights(88888888)
      8
      >>> num_eights(2638)
      1
      >>> num_eights(86380)
      2
      >>> num_eights(12345)
      0
      >>> from construct_check import check
      >>> # ban all assignment statements
      >>> check(HW_SOURCE_FILE, 'num_eights',
      ...       ['Assign', 'AnnAssign', 'AugAssign', 'NamedExpr'])
      True
      """
      if not pos:
          return 0
      else:
          if pos % 10 == 8:
              return num_eights(pos // 10) + 1
          else:
              return num_eights(pos // 10)
  ```

- æµ‹è¯•è¯´æ˜

  æµ‹è¯•ç»“æœï¼š

  ![](https://s2.loli.net/2022/04/07/CLZIbDMqp7f5hOS.png)

#### é—®é¢˜4ï¼š  Ping-pong  ğŸ“

- ä»»åŠ¡æè¿°

  ä¹’ä¹“åºåˆ—ä» 1 å¼€å§‹å‘ä¸Šè®¡æ•°ï¼Œå¹¶ä¸”æ€»æ˜¯å‘ä¸Šæˆ–è€…å‘ä¸‹è®¡æ•°ã€‚åœ¨ç´¢å¼• `k` å¤„ï¼Œå¦‚æœ `k` æ˜¯ 8 çš„å€æ•°æˆ–è€…åŒ…å«æ•°ä½ 8 åˆ™åˆ‡æ¢æ–¹å‘ã€‚ ä¸‹é¢åˆ—å‡ºäº†ä¹’ä¹“åºåˆ—çš„å‰ 30 ä¸ªå…ƒç´ ï¼Œåœ¨ç¬¬ 8ã€16ã€18ã€24 å’Œ 28 ä¸ªå…ƒç´ å¤„ä½¿ç”¨ä¸­æ‹¬å·æ ‡è®°äº†æ–¹å‘åˆ‡æ¢ã€‚

  | Index          | 1    | 2    | 3    | 4    | 5    | 6    | 7    | [8]  | 9    | 10   | 11   | 12   | 13   | 14   | 15   | [16] | 17   | [18] | 19   | 20   | 21   | 22   | 23   |
  | :------------- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
  | PingPong Value | 1    | 2    | 3    | 4    | 5    | 6    | 7    | [8]  | 7    | 6    | 5    | 4    | 3    | 2    | 1    | [0]  | 1    | [2]  | 1    | 0    | -1   | -2   | -3   |

  | Index (cont.)  | [24] | 25   | 26   | 27   | [28] | 29   | 30   |
  | :------------- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
  | PingPong Value | [-4] | -3   | -2   | -1   | [0]  | -1   | -2   |

  å®ç°å‡½æ•° `pingpong`ï¼Œè¯¥å‡½æ•°è¿”å›ä¹’ä¹“åºåˆ—çš„ç¬¬ n ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ä¸ä½¿ç”¨ä»»ä½•èµ‹å€¼è¯­å¥ã€‚

  ä½ å¯ä»¥ä½¿ç”¨ä¸Šä¸€ä¸ªé—®é¢˜ä¸­å®šä¹‰çš„ `num_eights` å‡½æ•°

  **æ³¨æ„ï¼š** ä½¿ç”¨é€’å½’ï¼›å¦‚æœä½¿ç”¨ä»»ä½•èµ‹å€¼è¯­å¥ï¼Œåˆ™æµ‹è¯•å°†å¤±è´¥ã€‚ï¼ˆä½†ä½ å¯ä»¥å°½ç®¡ä½¿ç”¨å‡½æ•°å®šä¹‰ï¼‰

  > **æç¤ºï¼š**å¦‚æœé‡åˆ°å›°éš¾ï¼Œè¯·é¦–å…ˆå°è¯•ä½¿ç”¨èµ‹å€¼è¯­å¥å’Œ `while` è¯­å¥å®ç° `pingpong`ã€‚ç„¶åå°†å…¶è½¬æ¢ä¸ºé€’å½’ï¼Œç¼–å†™ä¸€ä¸ªå¸®åŠ©å‡½æ•°ï¼ˆhelper functionï¼‰ï¼Œè¯¥å‡½æ•°å¯¹äºåœ¨ while å¾ªç¯ä½“æ”¹å˜äº†å€¼å¾—æ¯ä¸ªå˜é‡éƒ½å¯¹åº”æœ‰ä¸€ä¸ªå‚æ•°ã€‚
  >
  > **æç¤ºï¼š**æˆ‘ä»¬éœ€è¦è·Ÿè¸ªä¸€äº›ä¿¡æ¯ã€‚å…¶ä¸­ä¸€ä¸ªç»†èŠ‚æ˜¯å‰è¿›çš„æ–¹å‘ï¼ˆå¢åŠ æˆ–è€…å‡å°‘ï¼‰ã€‚åŸºäºä¸Šé¢çš„æç¤ºï¼Œè€ƒè™‘å¦‚ä½•åœ¨å¯¹å¸®åŠ©å‡½æ•°çš„è°ƒç”¨è¿‡ç¨‹ä¸­è·Ÿè¸ªæ–¹å‘ã€‚

  ```python
  def pingpong(n):
      """Return the nth element of the ping-pong sequence.
  
      >>> pingpong(8)
      8
      >>> pingpong(10)
      6
      >>> pingpong(15)
      1
      >>> pingpong(21)
      -1
      >>> pingpong(22)
      -2
      >>> pingpong(30)
      -2
      >>> pingpong(68)
      0
      >>> pingpong(69)
      -1
      >>> pingpong(80)
      0
      >>> pingpong(81)
      1
      >>> pingpong(82)
      0
      >>> pingpong(100)
      -6
      >>> from construct_check import check
      >>> # ban assignment statements
      >>> check(HW_SOURCE_FILE, 'pingpong',
      ...       ['Assign', 'AnnAssign', 'AugAssign', 'NamedExpr'])
      True
      """
      "*** YOUR CODE HERE ***"
  ```

  ä½¿ç”¨ Ok æµ‹è¯•ä½ çš„ä»£ç ï¼š

  ```
  python3 ok --local -q pingpong
  ```

- å®ç°æ­¥éª¤

  ã€ä¾‹ã€‘pingpong(22)  â¡ï¸ -2

  ![](https://s2.loli.net/2022/04/07/AslzXoqNOxRLE17.png)

- å®ç°æ–¹æ³•

  ```python
  def pingpong(n):
      """Return the nth element of the ping-pong sequence.
  
      >>> pingpong(8)
      8
      >>> pingpong(10)
      6
      >>> pingpong(15)
      1
      >>> pingpong(21)
      -1
      >>> pingpong(22)
      -2
      >>> pingpong(30)
      -2
      >>> pingpong(68)
      0
      >>> pingpong(69)
      -1
      >>> pingpong(80)
      0
      >>> pingpong(81)
      1
      >>> pingpong(82)
      0
      >>> pingpong(100)
      -6
      >>> from construct_check import check
      >>> # ban assignment statements
      >>> check(HW_SOURCE_FILE, 'pingpong',
      ...       ['Assign', 'AnnAssign', 'AugAssign', 'NamedExpr'])
      True
      """
      # def hasEight(num):
      #     while num:
      #         if num % 10 == 8:
      #             return True
      #         num //= 10
      #     return False  
      def hasEight(num):
          if not num:
              return False
          elif num % 10 == 8:
              return True
          else:
              return hasEight(num // 10)
      
      # def judge(num):
      #     flag = 1
      #     for i in range(1, num + 1):
      #         if i % 8 == 0 or hasEight(i):
      #             flag = -flag
      #     return flag
      def judge(num):
          if num == 1:
              return 1
          else:
              if num % 8 == 0 or hasEight(num):
                  return -(judge(num - 1))
              else:
                  return judge(num - 1)
  
      def function(n1):
          if n1 == 1:
              return 1
          else:
              return function(n1 - 1) + judge(n1 - 1)
          
      return function(n)
  ```

- æµ‹è¯•è¯´æ˜

  æµ‹è¯•ç»“æœï¼š

  ![](https://s2.loli.net/2022/04/07/NPDTEyWwf5xv7Jr.png)

#### é—®é¢˜5ï¼š Count coins  ğŸ˜–

- ä»»åŠ¡æè¿°

  ç»™å®šä¸€ä¸ªæ­£æ•´æ•° `change`ï¼Œä¸€ç»„ç¡¬å¸å¦‚æœå®ƒä»¬çš„å’Œæ˜¯ `change` å°±å¯ä»¥ç”¨äºæ¢é’±æ‰¾é›¶ã€‚è¿™é‡Œä½¿ç”¨æ ‡å‡†çš„ç¾åˆ†ï¼š1ï¼Œ 5ï¼Œ 10ï¼Œ 25ã€‚ä¾‹å¦‚ï¼Œ`15` å¯ä»¥æ¢æˆï¼š

  - 15 ä¸ª 1 ç¾åˆ†ç¡¬å¸
  - 10 ä¸ª 1 ç¾åˆ†ï¼Œ1ä¸ª 5 ç¾åˆ†ç¡¬å¸
  - 5 ä¸ª 1 ç¾åˆ†ï¼Œ 2 ä¸ª 5 ç¾åˆ†ç¡¬å¸
  - 5 ä¸ª 1 ç¾åˆ†ï¼Œ 1 ä¸ª 10 ç¾åˆ†ç¡¬å¸
  - 3 ä¸ª 5 ç¾åˆ†ç¡¬å¸
  - 1 ä¸ª 5 ç¾åˆ†ï¼Œ 1 ä¸ª 10 ç¾åˆ†ç¡¬å¸

  å› æ­¤ï¼Œæœ‰ 6 ç§æ–¹æ³•å¯ä»¥å¯¹ `15`  æ¢é’±æ‰¾é›¶ã€‚ç¼–å†™ä¸€ä¸ª**é€’å½’**å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥å—ä¸€ä¸ªæ­£æ•´æ•° `change` ï¼Œå¹¶è¿”å›ä½¿ç”¨ç¡¬å¸è¿›è¡Œæ¢é’±æ‰¾é›¶çš„æ–¹æ³•æ•°é‡ã€‚

  ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸‹é¢ä¾›ä½ ä½¿ç”¨çš„å‡½æ•°ï¼š

  - `get_larger_coin` å°†æ ¹æ®è¾“å…¥è¿”å›ä¸‹ä¸€ä¸ªè¾ƒå¤§çš„ç¡¬å¸é¢é¢ï¼Œå³ `get_larger_coin(5)`æ˜¯ `10`ã€‚
  - `get_smaller_coin` å°†æ ¹æ®è¾“å…¥è¿”å›ä¸‹ä¸€ä¸ªè¾ƒå°çš„ç¡¬å¸é¢é¢ï¼Œå³ `get_smaller_coin(5)` æ˜¯ `1`ã€‚

  è§£å†³é—®é¢˜çš„é€”å¾„æœ‰ä¸¤ç§ã€‚ä¸€ç§æ˜¯ä½¿ç”¨ `get_larger_coin`ï¼Œä¸€ç§æ˜¯ä½¿ç”¨ `get_smaller_coin`ã€‚

  **æ³¨æ„**ï¼šä½¿ç”¨é€’å½’ï¼›å¦‚æœä½¿ç”¨å¾ªç¯ï¼Œæµ‹è¯•å°†å¤±è´¥ã€‚

  > **æç¤ºï¼š**å‚è€ƒåˆ’åˆ†è®¡æ•° `count_partitions` çš„[å®ç°](http://composingprograms.com/pages/17-recursive-functions.html#example-partitions) ï¼Œä½œä¸ºä¸€ä¸ªä¾‹å­ï¼Œå°†ä¸€ä¸ªå€¼åˆ†æˆå¤šä¸ªæ›´å°å€¼çš„å’Œï¼Œå¯èƒ½çš„åˆ’åˆ†æ–¹æ³•è®¡æ•°ã€‚å¦‚æœéœ€è¦åœ¨é€’å½’è°ƒç”¨ä¸­è·Ÿè¸ªå¤šä¸ªå€¼ï¼Œè¯·è€ƒè™‘ç¼–å†™ä¸€ä¸ªå¸®åŠ©å‡½æ•°ã€‚

  ```python
  def get_larger_coin(coin):
      """Returns the next larger coin in order.
      >>> get_larger_coin(1)
      5
      >>> get_larger_coin(5)
      10
      >>> get_larger_coin(10)
      25
      >>> get_larger_coin(2) # Other values return None
      """
      if coin == 1:
          return 5
      elif coin == 5:
          return 10
      elif coin == 10:
          return 25
  
  def get_smaller_coin(coin):
      """Returns the next smaller coin in order.
      >>> get_smaller_coin(25)
      10
      >>> get_smaller_coin(10)
      5
      >>> get_smaller_coin(5)
      1
      >>> get_smaller_coin(2) # Other values return None
      """
      if coin == 25:
          return 10
      elif coin == 10:
          return 5
      elif coin == 5:
          return 1
  
  def count_coins(change):
      """Return the number of ways to make change using coins of value of 1, 5, 10, 25.
      >>> count_coins(15)
      6
      >>> count_coins(10)
      4
      >>> count_coins(20)
      9
      >>> count_coins(100) # How many ways to make change for a dollar?
      242
      >>> count_coins(200)
      1463
      >>> from construct_check import check
      >>> # ban iteration
      >>> check(HW_SOURCE_FILE, 'count_coins', ['While', 'For'])
      True
      """
      def constrained_count(change, smallest_coin):
          if change == 0:
              return 1
          if change < 0:
              return 0
          if smallest_coin == None:
              return 0
          without_coin = constrained_count(change, get_larger_coin(smallest_coin))
          with_coin = constrained_count(change - smallest_coin, smallest_coin)
          return without_coin + with_coin
      return constrained_count(change, 1)
  
      # Alternate solution: using get_smaller_coin
      def constrained_count_small(change, largest_coin):
          if change == 0:
              return 1
          if change < 0:
              return 0
          if largest_coin == None:
              return 0
          without_coin = constrained_count_small(change, get_smaller_coin(largest_coin))
          with_coin = constrained_count_small(change - largest_coin, largest_coin)
          return without_coin + with_coin
      return constrained_count_small(change, 25)
  ```

  ä½¿ç”¨ Ok æµ‹è¯•ä½ çš„ä»£ç ï¼š

  ```python
  python3 ok --local -q count_coins
  ```

- å®ç°æ­¥éª¤

  ã€ä¾‹ã€‘count_coins(20)  â¡ï¸ 9

  ![](https://s2.loli.net/2022/04/07/CIpoYv4aUMAbJOK.png)

- å®ç°æ–¹æ³•

  ```python
  def get_larger_coin(coin):
      """Returns the next larger coin in order.
      >>> get_larger_coin(1)
      5
      >>> get_larger_coin(5)
      10
      >>> get_larger_coin(10)
      25
      >>> get_larger_coin(2) # Other values return None
      """
      if coin == 1:
          return 5
      elif coin == 5:
          return 10
      elif coin == 10:
          return 25
  
  def get_smaller_coin(coin):
      """Returns the next smaller coin in order.
      >>> get_smaller_coin(25)
      10
      >>> get_smaller_coin(10)
      5
      >>> get_smaller_coin(5)
      1
      >>> get_smaller_coin(2) # Other values return None
      """
      if coin == 25:
          return 10
      elif coin == 10:
          return 5
      elif coin == 5:
          return 1
  
  def count_coins(change):
      """Return the number of ways to make change using coins of value of 1, 5, 10, 25.
      >>> count_coins(15)
      6
      >>> count_coins(10)
      4
      >>> count_coins(20)
      9
      >>> count_coins(100) # How many ways to make change for a dollar?
      242
      >>> count_coins(200)
      1463
      >>> from construct_check import check
      >>> # ban iteration
      >>> check(HW_SOURCE_FILE, 'count_coins', ['While', 'For'])
      True
      """
      def constrained_count(change, smallest_coin):
          if change == 0:
              return 1
          if change < 0:
              return 0
          if smallest_coin == None:
              return 0
          without_coin = constrained_count(change, get_larger_coin(smallest_coin))
          with_coin = constrained_count(change - smallest_coin, smallest_coin)
          return without_coin + with_coin
      return constrained_count(change, 1)
  
      # Alternate solution: using get_smaller_coin
      def constrained_count_small(change, largest_coin):
          if change == 0:
              return 1
          if change < 0:
              return 0
          if largest_coin == None:
              return 0
          without_coin = constrained_count_small(change, get_smaller_coin(largest_coin))
          with_coin = constrained_count_small(change - largest_coin, largest_coin)
          return without_coin + with_coin
      return constrained_count_small(change, 25)
  ```

- æµ‹è¯•è¯´æ˜

  æµ‹è¯•ç»“æœï¼š

  ![](https://s2.loli.net/2022/04/07/gqDrKFtUXlMSkv3.png)

### å¯é€‰é—®é¢˜  ğŸ™‹ğŸ¼â€â™€ï¸

> è¯¾åä½œä¸šä¸­ä¹Ÿä¼šåŒ…æ‹¬ä¹‹å‰çš„è€ƒè¯•é—®é¢˜ï¼Œä½ å¯ä»¥çœ‹çœ‹ã€‚è¿™äº›é—®é¢˜ä¸åšè¦æ±‚ï¼Œå°½ç®¡å°è¯•æŒ‘æˆ˜ä¸€ä¸‹ã€‚

#### é—®é¢˜6ï¼šDigital

- ä»»åŠ¡æè¿°

  > Implement collapse, which takes a non-negative integer, and returns the result of removing all digits from it that duplicate the digit immediately to their right.

  ```python
  def collapse(n):
      """For non-negative N, 
      the result of removing all digits that are equal to the digit on their right,
      so that no adjacent digits are the same.
  
      >>> collapse(1234) 
      1234 
      >>> collapse(12234441) 
      12341 
      >>> collapse(0) 
      0
      >>> collapse(3) 
      3
      >>> collapse(11200000013333) 
      12013 
      """
      left, last = n // 10, n % 10
      if _____:
          return last
      elif _____ == _____:
          return collapse(_____)
      else:
          return collapse(_____) * 10 + _____
  ```

- å®ç°æ­¥éª¤

  ã€ä¾‹ã€‘collapse(12234441)   â¡ï¸ 12341

  ![](https://s2.loli.net/2022/04/07/y2qaCRvXU9ilOoB.png)

- å®ç°æ–¹æ³•

  ```python
  def collapse(n):
      """For non-negative N, 
      the result of removing all digits that are equal to the digit on their right,
      so that no adjacent digits are the same.
  
      >>> collapse(1234) 
      1234
      >>> collapse(12234441) 
      12341
      >>> collapse(0) 
      0
      >>> collapse(3) 
      3
      >>> collapse(11200000013333) 
      12013
      """
      left, last = n // 10, n % 10
      if left == 0:
          return last
      elif left % 10 == last:
          return collapse(left)
      else:
          return collapse(left) * 10 + last
  ```

- æµ‹è¯•è¯´æ˜

  æµ‹è¯•ç»“æœï¼š

  ![](https://s2.loli.net/2022/04/07/GzhIg7T58VeDxQd.png)

#### é—®é¢˜7ï¼š Won't You Be My Neighbor?

- ä»»åŠ¡æè¿°

  >  Write repeat_digits, which takes a positive integer n and returns another integer that is identical to n but with each digit repeated.

  ```python
  def repeat_digits(n):
      """Given a positive integer N, returns a number with each digit repeated.
      >>> repeat_digits(1234) 
      11223344 
      """
      last, rest = _____, _____
      if _____:
          return _____
      return _____(_____) * _____ + _____
  
  ```

- å®ç°æ­¥éª¤

  ã€ä¾‹ã€‘repeat_digits(1234)   â¡ï¸ 11223344

  ![](https://s2.loli.net/2022/04/07/IKe8GqXmcuZEAyV.png)

- å®ç°æ–¹æ³•

  ```python
  def repeat_digits(n):
      """Given a positive integer N, returns a number with each digit repeated.
      >>> repeat_digits(1234) 
      11223344
      >>> repeat_digits(23) 
      2233
      >>> repeat_digits(456123) 
      445566112233
      """
      # i = 1
      # sum = 0
      # while n:
      #     x = n % 10
      #     sum += pow(10, i) * x + pow(10, i - 1) * x
      #     n //= 10
      #     i += 2
      # return sum
      last, rest = n % 10, n % 10 * 10 + n % 10
      if n == 0:
          return 0
      return repeat_digits(n // 10) * 100 + rest
  ```

- æµ‹è¯•è¯´æ˜

  æµ‹è¯•ç»“æœï¼š

  ![](https://s2.loli.net/2022/04/07/BHtCpGE9nDA3ykj.png)

#### é—®é¢˜8ï¼š Palindromes ğŸ˜–

- ä»»åŠ¡æè¿°

  > Implement pal, which takes a positive integer n and returns a positive integer with the digits of n followed by the digits of n in reverse order.
  > Important: You may not write str, repr, list, tuple, [, or ].

  ```python
  def pal(n): 
      """Return a palindrome starting with n.
      >>> pal(12430) 
      1243003421 
      """
      m = n 
      while m: 
          n, m = _____ , ____
      return n
  ```

  > Implement contains, which takes non-negative integers a and b. It returns whether all of the digits of a also appear in order among the digits of b.
  > Important: You may not write str, repr, list, tuple, [, or ].

  ```python
  def contains(a, b): 
      """Return whether the digits of a are contained in the digits of b.
      >>> contains(357, 12345678)
      True
      >>> contains(753, 12345678)
      False
      >>> contains(357, 37)
      False
      """ 
      if a == b:
          return True
      if _________ > _________: 
          return False
      if ______ == _______: 
          return contains( ____ , _____ )
      else:
          return contains( _____ , _____)
  ```

  > Implement big, a helper function for biggest_palindrome. The biggest_palindrome function takes a non-negative integer n and returns the largest palindrome integer with an even number of digits that appear among the digits of n in order. If there is no even-length palindrome among the digits of n, then biggest_palindrome(n) returns 0. You may call pal and contains. Important: You may not write str, repr, list, tuple, [, or ].

  ```python
  def biggest_palindrome(n):
      """Return the largest even-length palindrome in n.
      >>> biggest_palindrome(3425534) 
      4554
      >>> biggest_palindrome(126130450234125)
      21300312
      """
      return big(n, 0)
      
  def big(n, k): 
      """A helper function for biggest_palindrome."""
      if n == 0: 
          return 0
      choices = [big( ____ , k) , big( ____ , _____ )] 
      if contains(k, _____): 
          __________
      return max(choices)
  ```

  

- å®ç°æ­¥éª¤

  ã€ä¾‹ã€‘pal(12430)   â¡ï¸ 1243003421

  ![](https://s2.loli.net/2022/04/07/R23rLSdQ8sF7uVm.png)

  ã€ä¾‹ã€‘contains(357, 12345678)  â¡ï¸ True

  ![](https://s2.loli.net/2022/04/07/y6DJh51GEPIqatL.png)

- å®ç°æ–¹æ³•

  ```python
  def pal(n): 
      """Return a palindrome starting with n.
      >>> pal(12430) 
      1243003421
      >>> pal(1100)
      11000011
      """
      m = n 
      while m: 
          n, m = n * 10 + m % 10 , m // 10
      return n
  ```

  ```python
  def contains(a, b): 
      """Return whether the digits of a are contained in the digits of b.
      >>> contains(357, 12345678)
      True
      >>> contains(753, 12345678)
      False
      >>> contains(357, 37)
      False
      """ 
      if a == b:
          return True
      if a > b: 
          return False
      if a % 10 == b % 10: 
          return contains(a // 10, b // 10)
      else:
          return contains(a, b // 10)
  ```

  

- æµ‹è¯•è¯´æ˜

  æµ‹è¯•ç»“æœï¼š

  pal(n):

  ![](https://s2.loli.net/2022/04/07/tk7CrLRyYlXZEKJ.png)

  contains(a, b):

  ![](https://s2.loli.net/2022/04/07/dTpZ542Jko6ExOs.png)


## äº” å®éªŒå¿ƒå¾—ğŸ“

> é€šè¿‡æœ¬æ¬¡å®éªŒï¼Œå·©å›ºå¹¶æŒæ¡äº†é€’å½’ã€æ ‘é€’å½’ï¼ŒåŒæ—¶é€šè¿‡æœ€åçš„ä¸‰ä¸ªé€‰åšé—®é¢˜åŠ æ·±äº†å¯¹å…¶çš„ç†è§£ï¼Œè®¸å¤šä¸å¤ªæ¸…æ¥šçš„åœ°æ–¹ä½¿ç”¨pytutorä¸€æ­¥ä¸€æ­¥çœ‹è¿è¡Œè¿‡ç¨‹æ‰ææ‡‚ã€‚é€’å½’çš„ä»£ç è™½ç„¶ç®€æ´å¤§æ–¹å¥½çœ‹ï¼Œä½†ä½¿ç”¨for æˆ–è€… whileæ›´å¥½å†™ä¹Ÿæ›´æ–¹ä¾¿ç†è§£ï¼Œæ¯”è¾ƒå¤æ‚çš„é€’å½’æˆ‘éƒ½æ˜¯å…ˆç”¨å¾ªç¯å†™ï¼Œå†ä¸€æ­¥æ­¥æ”¹æˆé€’å½’ï¼Œæˆ‘å¯¹é€’å½’è¿˜æ˜¯å¾ˆä¸ç†Ÿç»ƒï¼Œéœ€è¦å¤šåšé¢˜å»ç†Ÿç»ƒã€‚

